@using Omu.Awem
@using Omu.Awem.Helpers
@using Omu.AwesomeMvc
@{
    ViewBag.Title = "SimpleSearch";
    Layout = "~/Views/AsppCallRequestList/_AsppCallRequestListLayout.cshtml";
}


    @(Html.Awe().Grid("AsppCallRequestsGrid").Url(Url.Action("SimpleSearchData", "AsppCallRequestList"))
     .Columns(new[]{
           new Column
                {   Bind = "CallRequestId",
                    Width = 50,
                    ClientFormat = "<input type='checkbox' name='CallRequestId' value='.CallRequestId'/>",
                    Header = "<input type='checkbox' name='chkAll' />"
                },
          new Column{Bind = "Creation", ClientFormat=".CreationDate", Header="Дата",Width = 100},
          new Column{Bind = "Creation", ClientFormat=".CreationTime", Header="Время",Width = 100},
          new Column{Bind = "RequestNumber", Header = "№ заявки",Width = 100},
          new Column{Bind = "Status", Header = "Статус", ClientFormat=".RequestStatus", ClientFormatFunc = "formatStatus"},
          new Column{Bind = "RequestorName", Header = "Заявитель"},
          new Column{Bind = "AssignBoss" , Header = "Ответственный"},
          new Column{Bind = "AssignTo" , Header = "Исполнитель"},
          new Column{Bind = "Category", Header = "Категория"},
          new Column{Bind = "TroubleSubject", Header = "Содержание"},
          new Column{Bind = "Comment", ClientFormatFunc = "formatComment", Header = "Комментарий"},
            new Column
                {   Bind = "CallRequestId",
                    Width=80,
                    ClientFormat = "<a href=\"/AsppCallRequest/Index?Id=.CallRequestId\" class=\"awe-btn-link\" target=\"_blank\"><span class=\"editicon\"><span></a>",
                    Header = " "
                    
                },
      })
      .Resizable(true)
      .PageSize(100)
      .Mod(o => o.PageInfo())
      .Sortable(false)
      .Parameter("searchvalue",ViewBag.SearchValue)
      .ShowGroupBar(false)
      .Groupable(false)
      .ShowGroupedColumn(false))

@Html.Partial("Modals/AsppAdvanceSearchModalPartial")
@Html.Partial("Modals/AsppReportModalPartial")